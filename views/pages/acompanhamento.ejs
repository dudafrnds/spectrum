<!DOCTYPE html>
<html lang="pt-br">
  <%- include('../partials/head') %>
  <body>
    <%- include('../partials/nav') %>
    
    <form action="">
      <h1>Digite seu Nome</h1>
      <input type="text" id="nome" placeholder="Seu nome aqui" aria-label="Digite seu nome" /> <br>
      <button type="button" onclick="enviarNome()">Consultar</button> <br>
      <p id="mensagemErro" style="color: red"></p>
      <br>
      <div class="Botaum">
        <button id="backButton"> <a href= "/formulario">Voltar ao Formulário</a> </button>
      </div>
      </br>
      <div style="flex-grow: 1"></div>
      <!-- Para empurrar o footer para baixo -->
    
    </form>
    <div class="tabela">
      <table>
        <thead>
          <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Data de Cadastro</th>
              <th>Ação</th>
          </tr>
        </thead>
        <tbody>
          <% dados.forEach(function(aluno){ %>
          <tr>
            <td><%= aluno.id %></td>
            <td><%= aluno.nome %></td>
            <td><%= aluno.data_cadastro %></td>
            <td><a href="/formulario">visualizar</a></td>
          </tr>
          <% }); %>
        </tbody>
      </table>
    </div>

    </div>


  <%- include('../partials/footer') %> 
  </br>
    
    <script>
        function enviarNome() {
  const nome = document.getElementById("nome").value;
  if (nome) {
    window.location.href = `nome.html?nome=${encodeURIComponent(nome)}`;
  } else {
    document.getElementById("mensagemErro").innerText = "Por favor, digite um nome.";
  }
}

      </script>

    <script src="script.js"></script>
  
  </body>
</html>
